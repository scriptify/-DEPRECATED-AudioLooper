!function(r){function e(t){if(n[t])return n[t].exports;var i=n[t]={exports:{},id:t,loaded:!1};return r[t].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=r,e.c=n,e.p="",e(0)}([function(r,e,n){"use strict";function t(r,e){var n=void 0;c(function(t){var i=r.find(function(r){return r.isFirstTrack});i&&(i.currentPercentualTime+=t/1e3/i.duration,n=o(r,e,n))})}function i(r,e,n){var t=0===r.length,i=1;if(!t){var a=r.find(function(r){return r.isFirstTrack});i=Math.ceil(e/a.duration)}r.push({id:n,duration:e,isFirstTrack:t,shouldPlay:!0,currentPercentualTime:0,maxPercentualTime:i})}var a=n(1),u=[],c=function(r){var e=performance.now();setInterval(function(){var n=performance.now(),t=n-e;e=n,r(t)},0)},o=function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,t=r.find(function(r){return r.isFirstTrack});return n+1<t.currentPercentualTime&&(n+=1,r.forEach(function(r){n%r.maxPercentualTime===0&&r.shouldPlay&&e(r.id)})),n};self.addEventListener("message",function(r){var e=r.data,n=e.type,t=e.payload,c=t.id;switch(n){case a.ADD_TRACK:var o=t.duration;i(u,o,c);break;case a.REMOVE_TRACK:u.splice(u.find(function(r){return r.id===c}),1);break;case a.PLAY:var s=u.find(function(r){return r.id===c});s.shouldPlay=!0;break;case a.STOP:u.find(function(r){return r.id===c});s.shouldPlay=!1,self.postMessage({type:a.STOP,id:c});break;case a.SYNC:var f=t,d=u.find(function(r){return r.isFirstTrack});d.currentPercentualTime+=f/d.duration-(d.currentPercentualTime-Math.floor(d.currentPercentualTime))}}),t(u,function(r){self.postMessage(JSON.stringify({type:a.PLAY,id:r}))})},function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ADD_TRACK="ADD_TRACK",e.REMOVE_TRACK="REMOVE_TRACK",e.PLAY="PLAY",e.STOP="STOP",e.SYNC="SYNC"}]);